<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>최저가 Bgsn1</title>

<style>
    :root {
        --shadow-purple: #a020f0;
        --deep-purple: #4b0082;
        --light-purple: #d8bfd8;
        --bg-dark: #1b1b1b;
        --panel-dark: #202020;
    }

    /* Full page centering */
    body {
        margin: 0;
        font-family: "Inter", "Segoe UI", sans-serif;
        background: radial-gradient(circle at bottom, #29073b, #000000);
        min-height: 100vh;                /* Important: kills bottom gap */
        display: flex;
        justify-content: center;          /* horizontal center */
        align-items: center;              /* vertical center */
        padding: 20px;
        color: #e6d7ff;
        position: relative;
        overflow: hidden;
        opacity: 0;
        animation: fadeIn 1s ease forwards; /* 1초 페이드인 효과 */
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* Snow effect */
    .snow-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0; /* 배경 위, 패널 아래 */
    }

    .snowflake {
        position: absolute;
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: fall linear infinite;
    }

    @keyframes fall {
        0% {
            opacity: 0.8;
        }
        90% {
            opacity: 0.8;
            transform: translateY(100vh) translateX(50px);
        }
        100% {
            opacity: 0;
            transform: translateY(calc(100vh + 100px)) translateX(50px); /* 바닥 뚫고 사라지게 */
        }
    }

    /* Generate more snowflakes with variations for realism */
    .snowflake:nth-child(1)   { left: 1%;   animation-duration: 6s;  animation-delay: 0s;     width: 6px;  height: 6px;  opacity: 0.7; }
    .snowflake:nth-child(2)   { left: 2%;   animation-duration: 8s;  animation-delay: 0.01s;  width: 10px; height: 10px; opacity: 0.9; }
    .snowflake:nth-child(3)   { left: 3%;   animation-duration: 7s;  animation-delay: 0.02s;  width: 8px;  height: 8px;  opacity: 0.6; }
    .snowflake:nth-child(4)   { left: 4%;   animation-duration: 5s;  animation-delay: 0.03s;  width: 12px; height: 12px; opacity: 0.8; }
    .snowflake:nth-child(5)   { left: 5%;   animation-duration: 9s;  animation-delay: 0.04s;  width: 7px;  height: 7px;  opacity: 0.7; }
    .snowflake:nth-child(6)   { left: 6%;   animation-duration: 6s;  animation-delay: 0.05s;  width: 9px;  height: 9px;  opacity: 0.9; }
    .snowflake:nth-child(7)   { left: 7%;   animation-duration: 8s;  animation-delay: 0.06s;  width: 11px; height: 11px; opacity: 0.6; }
    .snowflake:nth-child(8)   { left: 8%;   animation-duration: 7s;  animation-delay: 0.07s;  width: 5px;  height: 5px;  opacity: 0.8; }
    .snowflake:nth-child(9)   { left: 9%;   animation-duration: 5s;  animation-delay: 0.08s;  width: 10px; height: 10px; opacity: 0.7; }
    .snowflake:nth-child(10)  { left: 10%;  animation-duration: 9s;  animation-delay: 0.09s;  width: 8px;  height: 8px;  opacity: 0.9; }
    .snowflake:nth-child(11)  { left: 11%;  animation-duration: 6s;  animation-delay: 0.10s;  width: 12px; height: 12px; opacity: 0.6; }
    .snowflake:nth-child(12)  { left: 12%;  animation-duration: 8s;  animation-delay: 0.11s;  width: 7px;  height: 7px;  opacity: 0.8; }
    .snowflake:nth-child(13)  { left: 13%;  animation-duration: 7s;  animation-delay: 0.12s;  width: 9px;  height: 9px;  opacity: 0.7; }
    .snowflake:nth-child(14)  { left: 14%;  animation-duration: 5s;  animation-delay: 0.13s;  width: 11px; height: 11px; opacity: 0.9; }
    .snowflake:nth-child(15)  { left: 15%;  animation-duration: 9s;  animation-delay: 0.14s;  width: 6px;  height: 6px;  opacity: 0.6; }
    .snowflake:nth-child(16)  { left: 16%;  animation-duration: 6s;  animation-delay: 0.15s;  width: 10px; height: 10px; opacity: 0.8; }
    .snowflake:nth-child(17)  { left: 17%;  animation-duration: 8s;  animation-delay: 0.16s;  width: 8px;  height: 8px;  opacity: 0.7; }
    .snowflake:nth-child(18)  { left: 18%;  animation-duration: 7s;  animation-delay: 0.17s;  width: 12px; height: 12px; opacity: 0.9; }
    .snowflake:nth-child(19)  { left: 19%;  animation-duration: 5s;  animation-delay: 0.18s;  width: 5px;  height: 5px;  opacity: 0.6; }
    .snowflake:nth-child(20)  { left: 20%;  animation-duration: 9s;  animation-delay: 0.19s;  width: 9px;  height: 9px;  opacity: 0.8; }
    .snowflake:nth-child(21)  { left: 21%;  animation-duration: 6s;  animation-delay: 0.20s;  width: 11px; height: 11px; opacity: 0.7; }
    .snowflake:nth-child(22)  { left: 22%;  animation-duration: 8s;  animation-delay: 0.21s;  width: 7px;  height: 7px;  opacity: 0.9; }
    .snowflake:nth-child(23)  { left: 23%;  animation-duration: 7s;  animation-delay: 0.22s;  width: 10px; height: 10px; opacity: 0.6; }
    .snowflake:nth-child(24)  { left: 24%;  animation-duration: 5s;  animation-delay: 0.23s;  width: 8px;  height: 8px;  opacity: 0.8; }
    .snowflake:nth-child(25)  { left: 25%;  animation-duration: 9s;  animation-delay: 0.24s;  width: 12px; height: 12px; opacity: 0.7; }
    .snowflake:nth-child(26)  { left: 26%;  animation-duration: 6s;  animation-delay: 0.25s;  width: 6px;  height: 6px;  opacity: 0.9; }
    .snowflake:nth-child(27)  { left: 27%;  animation-duration: 8s;  animation-delay: 0.26s;  width: 9px;  height: 9px;  opacity: 0.6; }
    .snowflake:nth-child(28)  { left: 28%;  animation-duration: 7s;  animation-delay: 0.27s;  width: 11px; height: 11px; opacity: 0.8; }
    .snow285flake:nth-child(29)  { left: 29%;  animation-duration: 5s;  animation-delay: 0.28s;  width: 5px;  height: 5px;  opacity: 0.7; }
    .snowflake:nth-child(30)  { left: 30%;  animation-duration: 9s;  animation-delay: 0.29s;  width: 10px; height: 10px; opacity: 0.9; }
    .snowflake:nth-child(31)  { left: 31%;  animation-duration: 6s;  animation-delay: 0.30s;  width: 8px;  height: 8px;  opacity: 0.6; }
    .snowflake:nth-child(32)  { left: 32%;  animation-duration: 8s;  animation-delay: 0.31s;  width: 12px; height: 12px; opacity: 0.8; }
    .snowflake:nth-child(33)  { left: 33%;  animation-duration: 7s;  animation-delay: 0.32s;  width: 7px;  height: 7px;  opacity: 0.7; }
    .snowflake:nth-child(34)  { left: 34%;  animation-duration: 5s;  animation-delay: 0.33s;  width: 9px;  height: 9px;  opacity: 0.9; }
    .snowflake:nth-child(35)  { left: 35%;  animation-duration: 9s;  animation-delay: 0.34s;  width: 11px; height: 11px; opacity: 0.6; }
    .snowflake:nth-child(36)  { left: 36%;  animation-duration: 6s;  animation-delay: 0.35s;  width: 6px;  height: 6px;  opacity: 0.8; }
    .snowflake:nth-child(37)  { left: 37%;  animation-duration: 8s;  animation-delay: 0.36s;  width: 10px; height: 10px; opacity: 0.7; }
    .snowflake:nth-child(38)  { left: 38%;  animation-duration: 7s;  animation-delay: 0.37s;  width: 8px;  height: 8px;  opacity: 0.9; }
    .snowflake:nth-child(39)  { left: 39%;  animation-duration: 5s;  animation-delay: 0.38s;  width: 12px; height: 12px; opacity: 0.6; }
    .snowflake:nth-child(40)  { left: 40%;  animation-duration: 9s;  animation-delay: 0.39s;  width: 5px;  height: 5px;  opacity: 0.8; }
    .snowflake:nth-child(41)  { left: 41%;  animation-duration: 6s;  animation-delay: 0.40s;  width: 9px;  height: 9px;  opacity: 0.7; }
    .snowflake:nth-child(42)  { left: 42%;  animation-duration: 8s;  animation-delay: 0.41s;  width: 11px; height: 11px; opacity: 0.9; }
    .snowflake:nth-child(43)  { left: 43%;  animation-duration: 7s;  animation-delay: 0.42s;  width: 7px;  height: 7px;  opacity: 0.6; }
    .snowflake:nth-child(44)  { left: 44%;  animation-duration: 5s;  animation-delay: 0.43s;  width: 10px; height: 10px; opacity: 0.8; }
    .snowflake:nth-child(45)  { left: 45%;  animation-duration: 9s;  animation-delay: 0.44s;  width: 8px;  height: 8px;  opacity: 0.7; }
    .snowflake:nth-child(46)  { left: 46%;  animation-duration: 6s;  animation-delay: 0.45s;  width: 12px; height: 12px; opacity: 0.9; }
    .snowflake:nth-child(47)  { left: 47%;  animation-duration: 8s;  animation-delay: 0.46s;  width: 6px;  height: 6px;  opacity: 0.6; }
    .snowflake:nth-child(48)  { left: 48%;  animation-duration: 7s;  animation-delay: 0.47s;  width: 9px;  height: 9px;  opacity: 0.8; }
    .snowflake:nth-child(49)  { left: 49%;  animation-duration: 5s;  animation-delay: 0.48s;  width: 11px; height: 11px; opacity: 0.7; }
    .snowflake:nth-child(50)  { left: 50%;  animation-duration: 9s;  animation-delay: 0.49s;  width: 5px;  height: 5px;  opacity: 0.9; }
    .snowflake:nth-child(51)  { left: 51%;  animation-duration: 6s;  animation-delay: 0.50s;  width: 6px;  height: 6px;  opacity: 0.7; }
    .snowflake:nth-child(52)  { left: 52%;  animation-duration: 8s;  animation-delay: 0.51s;  width: 10px; height: 10px; opacity: 0.9; }
    .snowflake:nth-child(53)  { left: 53%;  animation-duration: 7s;  animation-delay: 0.52s;  width: 8px;  height: 8px;  opacity: 0.6; }
    .snowflake:nth-child(54)  { left: 54%;  animation-duration: 5s;  animation-delay: 0.53s;  width: 12px; height: 12px; opacity: 0.8; }
    .snowflake:nth-child(55)  { left: 55%;  animation-duration: 9s;  animation-delay: 0.54s;  width: 7px;  height: 7px;  opacity: 0.7; }
    .snowflake:nth-child(56)  { left: 56%;  animation-duration: 6s;  animation-delay: 0.55s;  width: 9px;  height: 9px;  opacity: 0.9; }
    .snowflake:nth-child(57)  { left: 57%;  animation-duration: 8s;  animation-delay: 0.56s;  width: 11px; height: 11px; opacity: 0.6; }
    .snowflake:nth-child(58)  { left: 58%;  animation-duration: 7s;  animation-delay: 0.57s;  width: 5px;  height: 5px;  opacity: 0.8; }
    .snowflake:nth-child(59)  { left: 59%;  animation-duration: 5s;  animation-delay: 0.58s;  width: 10px; height: 10px; opacity: 0.7; }
    .snowflake:nth-child(60)  { left: 60%;  animation-duration: 9s;  animation-delay: 0.59s;  width: 8px;  height: 8px;  opacity: 0.9; }
    .snowflake:nth-child(61)  { left: 61%;  animation-duration: 6s;  animation-delay: 0.60s;  width: 12px; height: 12px; opacity: 0.6; }
    .snowflake:nth-child(62)  { left: 62%;  animation-duration: 8s;  animation-delay: 0.61s;  width: 7px;  height: 7px;  opacity: 0.8; }
    .snowflake:nth-child(63)  { left: 63%;  animation-duration: 7s;  animation-delay: 0.62s;  width: 9px;  height: 9px;  opacity: 0.7; }
    .snowflake:nth-child(64)  { left: 64%;  animation-duration: 5s;  animation-delay: 0.63s;  width: 11px; height: 11px; opacity: 0.9; }
    .snowflake:nth-child(65)  { left: 65%;  animation-duration: 9s;  animation-delay: 0.64s;  width: 6px;  height: 6px;  opacity: 0.6; }
    .snowflake:nth-child(66)  { left: 66%;  animation-duration: 6s;  animation-delay: 0.65s;  width: 10px; height: 10px; opacity: 0.8; }
    .snowflake:nth-child(67)  { left: 67%;  animation-duration: 8s;  animation-delay: 0.66s;  width: 8px;  height: 8px;  opacity: 0.7; }
    .snowflake:nth-child(68)  { left: 68%;  animation-duration: 7s;  animation-delay: 0.67s;  width: 12px; height: 12px; opacity: 0.9; }
    .snowflake:nth-child(69)  { left: 69%;  animation-duration: 5s;  animation-delay: 0.68s;  width: 5px;  height: 5px;  opacity: 0.6; }
    .snowflake:nth-child(70)  { left: 70%;  animation-duration: 9s;  animation-delay: 0.69s;  width: 9px;  height: 9px;  opacity: 0.8; }
    .snowflake:nth-child(71)  { left: 71%;  animation-duration: 6s;  animation-delay: 0.70s;  width: 11px; height: 11px; opacity: 0.7; }
    .snowflake:nth-child(72)  { left: 72%;  animation-duration: 8s;  animation-delay: 0.71s;  width: 7px;  height: 7px;  opacity: 0.9; }
    .snowflake:nth-child(73)  { left: 73%;  animation-duration: 7s;  animation-delay: 0.72s;  width: 10px; height: 10px; opacity: 0.6; }
    .snowflake:nth-child(74)  { left: 74%;  animation-duration: 5s;  animation-delay: 0.73s;  width: 8px;  height: 8px;  opacity: 0.8; }
    .snowflake:nth-child(75)  { left: 75%;  animation-duration: 9s;  animation-delay: 0.74s;  width: 12px; height: 12px; opacity: 0.7; }
    .snowflake:nth-child(76)  { left: 76%;  animation-duration: 6s;  animation-delay: 0.75s;  width: 6px;  height: 6px;  opacity: 0.9; }
    .snowflake:nth-child(77)  { left: 77%;  animation-duration: 8s;  animation-delay: 0.76s;  width: 9px;  height: 9px;  opacity: 0.6; }
    .snowflake:nth-child(78)  { left: 78%;  animation-duration: 7s;  animation-delay: 0.77s;  width: 11px; height: 11px; opacity: 0.8; }
    .snowflake:nth-child(79)  { left: 79%;  animation-duration: 5s;  animation-delay: 0.78s;  width: 5px;  height: 5px;  opacity: 0.7; }
    .snowflake:nth-child(80)  { left: 80%;  animation-duration: 9s;  animation-delay: 0.79s;  width: 10px; height: 10px; opacity: 0.9; }
    .snowflake:nth-child(81)  { left: 81%;  animation-duration: 6s;  animation-delay: 0.80s;  width: 8px;  height: 8px;  opacity: 0.6; }
    .snowflake:nth-child(82)  { left: 82%;  animation-duration: 8s;  animation-delay: 0.81s;  width: 12px; height: 12px; opacity: 0.8; }
    .snowflake:nth-child(83)  { left: 83%;  animation-duration: 7s;  animation-delay: 0.82s;  width: 7px;  height: 7px;  opacity: 0.7; }
    .snowflake:nth-child(84)  { left: 84%;  animation-duration: 5s;  animation-delay: 0.83s;  width: 9px;  height: 9px;  opacity: 0.9; }
    .snowflake:nth-child(85)  { left: 85%;  animation-duration: 9s;  animation-delay: 0.84s;  width: 11px; height: 11px; opacity: 0.6; }
    .snowflake:nth-child(86)  { left: 86%;  animation-duration: 6s;  animation-delay: 0.85s;  width: 6px;  height: 6px;  opacity: 0.8; }
    .snowflake:nth-child(87)  { left: 87%;  animation-duration: 8s;  animation-delay: 0.86s;  width: 10px; height: 10px; opacity: 0.7; }
    .snowflake:nth-child(88)  { left: 88%;  animation-duration: 7s;  animation-delay: 0.87s;  width: 8px;  height: 8px;  opacity: 0.9; }
    .snowflake:nth-child(89)  { left: 89%;  animation-duration: 5s;  animation-delay: 0.88s;  width: 12px; height: 12px; opacity: 0.6; }
    .snowflake:nth-child(90)  { left: 90%;  animation-duration: 9s;  animation-delay: 0.89s;  width: 5px;  height: 5px;  opacity: 0.8; }
    .snowflake:nth-child(91)  { left: 91%;  animation-duration: 6s;  animation-delay: 0.90s;  width: 9px;  height: 9px;  opacity: 0.7; }
    .snowflake:nth-child(92)  { left: 92%;  animation-duration: 8s;  animation-delay: 0.91s;  width: 11px; height: 11px; opacity: 0.9; }
    .snowflake:nth-child(93)  { left: 93%;  animation-duration: 7s;  animation-delay: 0.92s;  width: 7px;  height: 7px;  opacity: 0.6; }
    .snowflake:nth-child(94)  { left: 94%;  animation-duration: 5s;  animation-delay: 0.93s;  width: 10px; height: 10px; opacity: 0.8; }
    .snowflake:nth-child(95)  { left: 95%;  animation-duration: 9s;  animation-delay: 0.94s;  width: 8px;  height: 8px;  opacity: 0.7; }
    .snowflake:nth-child(96)  { left: 96%;  animation-duration: 6s;  animation-delay: 0.95s;  width: 12px; height: 12px; opacity: 0.9; }
    .snowflake:nth-child(97)  { left: 97%;  animation-duration: 8s;  animation-delay: 0.96s;  width: 6px;  height: 6px;  opacity: 0.6; }
    .snowflake:nth-child(98)  { left: 98%;  animation-duration: 7s;  animation-delay: 0.97s;  width: 9px;  height: 9px;  opacity: 0.8; }
    .snowflake:nth-child(99)  { left: 99%;  animation-duration: 5s;  animation-delay: 0.98s;  width: 11px; height: 11px; opacity: 0.7; }
    .snowflake:nth-child(100) { left: 100%; animation-duration: 9s;  animation-delay: 0.99s;  width: 5px;  height: 5px;  opacity: 0.9; }

    /* --- Frost Panel “Component” --- */
    .panel {
        width: 100%;
        max-width: 600px;
        padding: 25px 20px;
        background: rgba(20, 20, 20, 0.5);
        border: 1px solid rgba(160, 32, 240, 0.3);
        border-radius: 14px;
        box-shadow: 0 0 25px rgba(160, 32, 240, 0.3),
                    inset 0 0 15px rgba(160, 32, 240, 0.15);
        backdrop-filter: blur(4px);
        animation: panelFade 0.8s ease forwards;
        text-align: center;               /* ensures all text is centered */
        position: relative;
        z-index: 1; /* 눈 아래 패널 위 */
    }

    @keyframes panelFade {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* 프로필 사진 + 닉네임 영역 */
    .profile-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
        position: relative;
        z-index: 2; /* 눈(snowflake)보다 위, 패널 배경보다 아래 */
    }

    .profile-img {
        width: 110px;
        height: 110px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid rgba(160, 32, 240, 0.6);
        box-shadow: 0 0 20px rgba(160, 32, 240, 0.7),
                    0 0 40px rgba(160, 32, 240, 0.4);
        margin-bottom: 12px;
        transition: transform 0.3s ease;
    }

    .profile-img:hover {
        transform: scale(1.08);
    }

    h1 {
        font-size: 1.8rem;
        color: var(--light-purple);
        text-shadow: 0 0 8px var(--shadow-purple);
        margin-bottom: 10px;
    }

    p {
        color: #d7b3ff;
        line-height: 1.5;
        margin: 8px 0;
    }

    .warning {
        color: #ff6aff;
        font-weight: bold;
        text-shadow: 0 0 6px rgba(255, 0, 255, 0.6);
    }

    /* --- Input Component --- */
    .cooldown-input {
        margin-top: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 8px;
        font-size: 1.1rem;
    }

    /* --- Lava Button Component --- */
    button {
        margin-top: 25px;
        display: block;
        margin-left: auto;             /* center horizontally */
        margin-right: auto;
        padding: 12px 30px;
        font-size: 1.1rem;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        color: #1b1b1b;
        background: var(--shadow-purple);
        box-shadow: 0 0 12px rgba(160, 32, 240, 0.6);
        font-weight: bold;
        transition: 0.15s;
        position: relative;
        overflow: hidden;
    }

    button:hover {
        filter: brightness(1.2);
        transform: translateY(-2px);
    }

    button:active {
        transform: scale(0.97);
    }

    /* Status text */
    #statusText {
        margin-top: 20px;
        min-height: 24px;
        font-size: 1.1rem;
        color: var(--light-purple);
        text-shadow: 0 0 8px rgba(200, 150, 255, 0.5);
        transition: 0.3s;
    }

    /* --- Mobile Responsiveness --- */
    @media (max-width: 500px) {
        h1 {
            font-size: 1.4rem;
        }

        button {
            width: 100%;
            max-width: 280px;
        }

        .profile-img {
            width: 90px;
            height: 90px;
        }
        .profile-header h1 {
            font-size: 1.6rem;
        }
    }

    /* Styles for image buttons */
    .image-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 25px;
        flex-wrap: wrap;
    }

    .image-btn {
        padding: 0;
        background: none;
        border: 1px solid rgba(160, 32, 240, 0.3);
        box-shadow: 0 0 12px rgba(160, 32, 240, 0.3);
        border-radius: 8px;
        overflow: hidden;
        transition: 0.15s;
        width: 100px; /* Fixed width for button */
        height: 100px; /* Fixed height for button */
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .image-btn:hover {
        filter: brightness(1.2);
        transform: translateY(-2px);
    }

    .image-btn:active {
        transform: scale(0.97);
    }

    .image-btn img {
        max-width: 100%; /* Ensure image fits within button */
        max-height: 100%; /* Ensure image fits within button */
        object-fit: contain; /* Maintain aspect ratio without distortion */
        display: block;
    }

    /* Tooltip for email copy message */
    .tooltip {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.2); /* 더 밝고 투명한 배경으로 진정한 glassmorphism 효과 */
    color: #ffffff; /* 흰색 텍스트 */
    padding: 5px 10px;
    border-radius: 10px; /* 더 부드러운 모서리로 glassmorphism 스타일 강조 */
    font-size: 0.9rem;
    border: 1px solid rgba(255, 255, 255, 0.18); /* 얇은 흰색 테두리로 유리 가장자리 시뮬레이션 */
    box-shadow: 
        0 4px 30px rgba(0, 0, 0, 0.1), /* 부드러운 외부 그림자 */
        inset 0 0 10px rgba(255, 255, 255, 0.3); /* 내부 glow로 빛나는 효과 */
    backdrop-filter: blur(20px); /* 블러를 증가시켜 더 선명한 frosted glass 느낌 */
    -webkit-backdrop-filter: blur(20px); /* Safari 호환성 */
    z-index: 10;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    animation: glow 1.5s ease-in-out infinite alternate; /* 반짝이는 펄스 애니메이션 추가 */
}

@keyframes glow {
    from {
        box-shadow: 
            0 4px 30px rgba(0, 0, 0, 0.1),
            inset 0 0 10px rgba(255, 255, 255, 0.3);
    }
    to {
        box-shadow: 
            0 8px 40px rgba(0, 0, 0, 0.15),
            inset 0 0 15px rgba(255, 255, 255, 0.5); /* 더 강한 glow로 반짝임 강조 */
    }
}

.tooltip::after {
    content: '';
    position: absolute;
    bottom: -9px; /* 꼬리 위치를 아주 살짝 아래로 조정하여 겹침 방지 */
    left: 50%;
    transform: translateX(-50%);
    border-width: 8px 8px 0 8px; /* 크기 축소로 아티팩트 최소화 */
    border-style: solid;
    border-color: rgba(255, 255, 255, 0.2) transparent transparent transparent; /* 배경과 일치하는 투명도 */
    /* backdrop-filter 제거하여 사각형 아티팩트 방지 */
}
    /* Play/Pause Button Styles (단순화: 테두리, 그림자 등 제거) */
    #musicControlBtn {
        margin-top: 20px; /* 미세하게 아래로: 15px -> 20px */
        padding: 0;
        width: 50px;
        height: 50px;
        background: none;
        border: none;
        box-shadow: none; /* 그림자 제거 */
        cursor: pointer;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    #musicControlBtn img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    /* Volume Slider Styles */
    #volumeSlider {
        -webkit-appearance: none;
        appearance: none;
        width: 200px; /* 슬라이더 너비 */
        height: 6px; /* 슬라이더 두께 */
        background: #ccc; /* 기본 배경 */
        outline: none;
        opacity: 0.7;
        transition: opacity .2s;
        border-radius: 5px;
        margin-top: 15px; /* 미세하게 아래로: 10px -> 15px */
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    #volumeSlider:hover {
        opacity: 1;
    }

    #volumeSlider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        background: var(--shadow-purple); /* 보라색 손잡이 */
        cursor: pointer;
        border-radius: 50%;
    }

    #volumeSlider::-moz-range-thumb {
        width: 16px;
        height: 16px;
        background: var(--shadow-purple);
        cursor: pointer;
        border-radius: 50%;
    }

    #volumeSlider::-webkit-slider-runnable-track {
        background: linear-gradient(to right, var(--shadow-purple) 0%, var(--shadow-purple) var(--volume), #ccc var(--volume), #ccc 100%);
    }

    #volumeSlider::-moz-range-track {
        background: linear-gradient(to right, var(--shadow-purple) 0%, var(--shadow-purple) var(--volume), #ccc var(--volume), #ccc 100%);
    }
</style>
</head>

<body>

<audio id="backgroundMusic" loop preload="auto" crossorigin="anonymous">
    <source src="https://cdn.jsdelivr.net/gh/bgsn523/introduce@main/music/No-Batidao.mp3" type="audio/mpeg">
</audio>

<div class="snow-container">
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
    <div class="snowflake"></div>
</div>

<div class="panel">
    <!-- 프로필 사진 + 닉네임 영역 -->
    <div class="profile-header">
        <img src="https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/bgsn1.jpg" 
             alt="Bgsn1 프로필" 
             class="profile-img" id="profileImg">
        <h1>Bgsn1</h1>
    </div>

    <p>Best roblox item provider Bgsn1</p>
    <p class="warning">아래의 버튼을 클릭하여 최저가 종합 상점에 방문하세요</p>

    <div class="cooldown-input">
        <button id="frostCd">최저가 종합 상점 방문하기</button>
    </div>

    <button id="SetCooldowns">Bgsn1의 거래내역 보러가기</button>

    <!-- Play/Pause 버튼 추가 -->
    <button id="musicControlBtn">
        <img src="https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/play.png" alt="Play/Pause">
    </button>

    <!-- Volume Slider 추가 -->
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.3">

    <div class="image-buttons">
        <button class="image-btn"><img src="https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/dsc.png" alt="Discord"></button>
        <button class="image-btn"><img src="https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/purple-em.png" alt="Email"></button>
        <button class="image-btn"><img src="https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/tg.png" alt="Telegram"></button>
    </div>

    <p id="statusText"></p>
</div>

<script src="options.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const audio = document.getElementById('backgroundMusic');
        const musicBtn = document.getElementById('musicControlBtn');
        const musicImg = musicBtn.querySelector('img');
        const volumeSlider = document.getElementById('volumeSlider');
        const profileImg = document.getElementById('profileImg');
        const panel = document.querySelector('.panel');  // 오류 해결: panel 변수를 visualize 함수 앞에 선언

        const playImg = 'https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/play.png';
        const pauseImg = 'https://raw.githubusercontent.com/bgsn523/introduce/refs/heads/main/pictures/pause.png';

        // 볼륨 30%로 설정
        audio.volume = 0.3;

        // 초기 상태: 정지 (play 버튼 표시)
        audio.pause();
        musicImg.src = playImg;

        musicBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play().catch(err => console.error('재생 오류:', err));
                musicImg.src = pauseImg;
            } else {
                audio.pause();
                musicImg.src = playImg;
            }
        });

        // 볼륨 슬라이더 이벤트
        volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value;
        });

        // ------------------- 강력한 사운드 비주얼라이저 -------------------
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const source = audioCtx.createMediaElementSource(audio);
        const analyser = audioCtx.createAnalyser();
        analyser.fftSize = 8192;                    // 더 많은 데이터 → 더 민감한 반응
        source.connect(analyser);
        analyser.connect(audioCtx.destination);

        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);

        function visualize() {
            requestAnimationFrame(visualize);
            analyser.getByteFrequencyData(dataArray);

            let sum = 0;
            for (let i = 0; i < bufferLength; i++) {
                sum += dataArray[i];
            }
            const average   = sum / bufferLength;
            const intensity = average / 255;               // 0 ~ 1

            // ---- 프로필 사진 (강하게) ----
            const profileSpread = 50 + intensity * 100;     // 최대 90px
            const profileGlow   = `rgba(84, 3, 135 ${0.4 + intensity * 0.6})`;
            profileImg.style.boxShadow = `0 0 ${profileSpread}px ${profileGlow}, 0 0 ${profileSpread * 2}px ${profileGlow}`;
            profileImg.style.borderColor = `rgba(160, 32, 240, ${0.6 + intensity * 0.7})`;

            // ---- 패널 전체 테두리 (강하게) ----
            const panelSpread = 40 + intensity * 350;      // 최대 130px (패널이 커서 더 크게)
            const panelGlow   = `rgba(160, 32, 240, ${0.2 + intensity * 0.4})`;
            panel.style.boxShadow = `0 0 ${panelSpread}px ${panelGlow}, inset 0 0 ${panelSpread}px ${panelGlow}`;
            panel.style.borderColor = `rgba(160, 32, 240, ${0.3 + intensity * 0.9})`;
        }

        audio.addEventListener('play', () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            visualize();
        });

        // 이전 코드 (눈송이, 버튼 이벤트 등) 유지
        const snowflakes = document.querySelectorAll('.snowflake');
        snowflakes.forEach(snowflake => {
            const randomTop = - (Math.random() * window.innerHeight * 2); // 더 위에서 시작해서 바로 내리게
            snowflake.style.top = `${randomTop}px`;
        });

        // Image button event listeners
        const imageBtns = document.querySelectorAll('.image-btn');

        // Discord button (first)
        imageBtns[0].addEventListener('click', () => {
            window.open('https://discord.com/users/1320204664246894625', '_blank');
        });

        // Email button (second)
        imageBtns[1].addEventListener('click', () => {
            navigator.clipboard.writeText('bgsn1@proton.me').then(() => {
                showTooltip(imageBtns[1], 'E-mail address copied');
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        });

        // Telegram button (third)
        imageBtns[2].addEventListener('click', () => {
            window.open('https://t.me/bgsn_1', '_blank');
        });

        function showTooltip(button, message) {
            const tooltip = document.createElement('div');
            tooltip.classList.add('tooltip');
            tooltip.textContent = message;
            document.body.appendChild(tooltip);

            const buttonRect = button.getBoundingClientRect();
            const tooltipRect = tooltip.getBoundingClientRect();

            tooltip.style.left = `${buttonRect.left + (buttonRect.width / 2) - (tooltipRect.width / 2) + window.scrollX}px`;
            tooltip.style.top = `${buttonRect.top - tooltipRect.height - 10 + window.scrollY}px`;
            tooltip.style.opacity = '1';

            setTimeout(() => {
                tooltip.style.opacity = '0';
                setTimeout(() => tooltip.remove(), 300);
            }, 2000);
        }
    });
</script>

</body>
</html>
